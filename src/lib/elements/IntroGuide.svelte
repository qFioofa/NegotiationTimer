<script>
	import { fade, scale } from "svelte/transition";
	import { GlobalConfig, IntroGuideVisiable } from "$lib/stores/parameters";
	import { writable } from "svelte/store";

	function close() {
		$IntroGuideVisiable = false;
	}

	function closeForever() {
		$IntroGuideVisiable = false;
		GlobalConfig.set("introGuide", false);
	}
</script>

{#if $IntroGuideVisiable}
	<div class="intro-overlay" transition:fade>
		<div class="intro-modal" transition:scale={{ duration: 200 }}>
			<div class="intro-header">
				<h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
			</div>

			<div class="intro-content">
				<h3>NegotiationTimer</h3>
				<p><b>–¢–∞–π–º–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π –ø–æ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞–º –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º.</b></p>

				<h4>üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</h4>
				<ul>
					<li>–ñ–µ—Ä–µ–±—å—ë–≤–∫–∞</li>
					<li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</li>
					<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ / —É–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏</li>
					<li>–ü–∞—É–∑–∞</li>
				</ul>

				<h4>‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h4>
				<ul>
					<li><b>–ê–≤—Ç–æ–ø–∞—É–∑–∞: –º–µ–Ω—é / –ø–∞–Ω–µ–ª—å</b></li>
					<li><b>–ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω</b> –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç–∞–π–º–µ—Ä–∞</li>
					<li><b>–ó–≤—É–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è</b></li>
					<li><b>–§–æ–Ω –∏–≥—Ä–æ–∫–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–æ–Ω</b></li>
					<li><b>–ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ / —Ñ–æ–Ω–∞</b></li>
					<li><b>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å / –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥</b></li>
					<li><b>–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫</b></li>
					<li><b>–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</b></li>
				</ul>

				<h4>üßæ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
				<ul>
					<li><b>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Ä–µ–º—è:</b> <code>60</code> —Å–µ–∫—É–Ω–¥</li>
					<li><b>–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è:</b> <code>'01:00'</code></li>
					<li><b>–®–∞–≥ –≤—Ä–µ–º–µ–Ω–∏ +/-:</b> <code>'00:15'</code></li>
					<li><b>–ö–ª–∞–≤–∏—à–∞ –∂–µ—Ä–µ–±—å—ë–≤–∫–∏:</b> <code>'R'</code></li>
					<li><b>–ö–ª–∞–≤–∏—à–∞ –ø–∞—É–∑—ã:</b> <code>'Space'</code></li>
					<li><b>–¢–µ–º–∞:</b> <code>'green'</code></li>
					<li><b>–ê–≤—Ç–æ–ø–∞—É–∑–∞ (–ø–∞–Ω–µ–ª—å):</b> <code>true</code></li>
					<li><b>–ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏:</b> <code>true</code></li>
					<li><b>–ê–≤—Ç–æ–ø–∞—É–∑–∞ (–º–µ–Ω—é):</b> <code>true</code></li>
					<li><b>–ß–µ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏–∏:</b> <code>true</code></li>
					<li><b>–ó–≤—É–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</b> <code>true</code></li>
					<li><b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–≤—É–∫:</b> <code>true</code></li>
					<li><b>–ü–æ–∫–∞–∑–∞—Ç—å –≥–∞–π–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:</b> <code>true</code></li>
					<li><b>–ó–≤—É–∫ —Ç–∞–π–º–µ—Ä–∞ (–ø–æ–ª—å–∑.):</b> <i>–Ω–µ –∑–∞–¥–∞–Ω</i></li>
					<li><b>–§–æ–Ω –∏–≥—Ä–æ–∫–æ–≤:</b> <code>true</code></li>
					<li><b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–æ–Ω:</b> <code>false</code></li>
					<li><b>–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</b> <i>–Ω–µ –∑–∞–¥–∞–Ω–æ</i></li>
				</ul>

				<h4>üìç –°–æ–≤–µ—Ç—ã –∏ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è</h4>
				<ul>
					<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
					<li>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
					<li>–§–æ–Ω –∏ –∑–≤—É–∫–∏ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è</li>
				</ul>
				<p>–•–æ—Ä–æ—à–µ–π –∏–≥—Ä—ã üëä</p>
			</div>

			<div class="intro-actions">
				<button class="secondary" on:click={closeForever}>–ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
				<button on:click={close}>–ó–∞–∫—Ä—ã—Ç—å</button>
			</div>
		</div>
	</div>
{/if}

<style>
	.intro-overlay {
		position: fixed;
		inset: 0;
		background: rgba(0, 0, 0, 0.65);
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: 1000;
		backdrop-filter: blur(6px);
	}

	.intro-modal {
		background: var(--bg);
		border: 1px solid var(--accent);
		border-radius: 16px;
		padding: 2.5rem;
		width: 640px;
		max-width: 90vw;
		max-height: 85vh;
		display: flex;
		flex-direction: column;
		gap: 1.6rem;
		box-shadow: 0 0 24px rgba(0, 0, 0, 0.3);
		overflow: hidden;
	}

	.intro-header h2 {
		color: var(--accent);
		font-size: 2rem;
		margin: 0;
	}

	.intro-actions {
		display: flex;
		justify-content: flex-end;
		gap: 1rem;
	}

	button {
		background: var(--accent);
		color: var(--input-bg);
		border: none;
		padding: 0.6rem 1.2rem;
		border-radius: 10px;
		cursor: pointer;
		font-weight: bold;
		font-size: 1rem;
		transition: background 0.2s;
	}

	button.secondary {
		background: var(--bg-secondary);
		color: var(--fg);
		border: 1px solid var(--accent);
	}

	.intro-content {
		overflow-y: auto;
		scrollbar-width: thin;
		padding-right: 0.5rem;
		color: var(--fg);
		flex: 1;
		font-size: 1.05rem;
		line-height: 1.6;
	}

	.intro-content h3 {
		font-size: 1.5rem;
		margin-bottom: 0.4rem;
		color: var(--accent);
	}

	.intro-content h4 {
		margin-top: 1.2rem;
		font-size: 1.2rem;
		color: var(--accent-light);
	}

	.intro-content ul {
		margin: 0.5rem 0 1rem 1.2rem;
		padding-left: 1rem;
	}

	.intro-content li {
		margin: 0.3rem 0;
	}
</style>
